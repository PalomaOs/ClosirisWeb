@using closirissystem.Models
@model File

<div class="container" style="margin-left: 0;">

    <script>
    function loadPageDetails(fileId fileName, fileExtension, fileSize, creationDate, folderName) {
            var page = 'FileInfo';
           
            console.log(`Folder name: ${folderName}`);
            
           fetch(`Client/${page}?fileId=${fileId}&fileName=${fileName}&fileExtension=${fileExtension}&fileSize=${fileSize}&creationDate=${creationDate}&folderName=${folderName}`)
            .then(response => response.text())
            .then(html => {
                document.getElementById('mainContent').innerHTML = html;
            })
            .catch(error => console.error('Error loading page:', error));
        }
</script>

    <div class="container-fluid ">
        <h1 class="mt-4 text-white">Bienvenido</h1>
        <ol class="mb-4">
            <p class="text-light-gray">Mi unidad > @Model.FolderName </p>
        </ol>
        <div class="row" id="cardsContainer">
            @foreach (var item in Model.Files)
            {
                <div class="col-xl-3 col-md-6">
                    <div class="card bg-filecard text-white mb-4" data-file-id="@item.Id">
                        <div class="card-body d-flex">
                            <div class="col-4">
                                <img src=@item.FileImage alt="Imagen" class="img-fluid">
                            </div>
                            <div class="col-8 text-wrap">
                                @item.FileName@item.FileExtension
                                <p>@item.FileSize MB</p>
                            </div>
                        </div>
                        <div class="card-footer d-flex align-items-center justify-content-between">
                            <a class="small text-white stretched-link" href="#"  data-bs-toggle="modal"
                                onclick="loadPageDetails('@item.Id', '@item.FileName', '@item.FileExtension', '@item.FileSize', '@item.CreationDate', '@Model.FolderName')" >Ver detalles</a>
                            <div class="small text-white"><i class="fas fa-angle-right"></i></div>
                        </div>
                    </div>
                </div>
            }

        </div>
    </div>
    </main>

</div>





